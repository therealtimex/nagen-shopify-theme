{% style %}
.product__info--item {
    margin-bottom: 30px
}

.product__info--contains.accordion {
    margin-bottom: 40px
}

.product__info--heading {
    font-size: 18px;
    line-height: 30px;
    font-family: var(--hd-font-family);
    text-transform: uppercase;
    letter-spacing: 1px;
    color: rgb(var(--heading-color));
    border-bottom: 1px solid rgb(var(--border-color));
    margin-bottom: 15px;
    padding-bottom: 10px
}
    
.accordion .product__info--item .product__info--content {
    max-height: 0;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    overflow: hidden;
    padding: 0 20px;
}

.accordion .product__info--item.active .product__info--content {
    max-height: 100vh;
    opacity: 1;
    visibility: visible;
    padding: 20px;
    border-top: 1px solid rgb(var(--border-color))
}

.accordion .product__info--item {
    border: 1px solid rgb(var(--border-color));
    border-radius: 4px;
    margin-bottom: 10px;
}

.accordion .product__info--heading {
    padding: 10px 20px;
    font-size: 18px;
    line-height: 30px;
    font-family: var(--hd-font-family);
    text-transform: uppercase;
    letter-spacing: 1px;
    color: rgb(var(--heading-color));
    transition: 0.3s all ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    margin-bottom: 0;
    border: none;
}

.accordion .product__info--heading::after {
    content: '+';
}

.accordion .product__info--item.active .product__info--heading::after {
    content: '-';
}


{% endstyle %}


<div class="product__more--info default">
  {% unless section.settings.full_width %}
    <div class="{{ section.settings.container_type }}">
  {% endunless %}

  <div class="product__info--contains {% if section.settings.accordion %} accordion {% endif %}">
    
        {% for block in section.blocks %}
            <div class="product__info--item {% if forloop.index == 1 %} active{% endif %}">
            {% case block.type %}
                {% when 'product_description' %}
                    
                    <div class="product__info--heading">
                        {{ block.settings.tab_name }}
                    </div>
                    <div class="product__info--content">
                        <div class="product__description">
                            {{ product.description }}
                        </div>
                        {% if block.settings.enable_guide %}
                            <div class="product-tabs__trust-list hd-pocket">
                              {% if block.settings.guide1_icon or block.settings.guide1_label %}
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-1-drawer" ap-expanded-aria="false">
                                    {{ block.settings.guide1_icon }}
                                    {{ block.settings.guide1_label }}
                                </button>
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-1-popover" ap-expanded-aria="false">
                                    {{ block.settings.guide1_icon }}
                                    {{ block.settings.guide1_label }}
                                </button>
                              {% endif %}
                            
                              {% if block.settings.guide2_icon or block.settings.guide2_label %}
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-2-drawer" ap-expanded-aria="false">
                                    {{ block.settings.guide2_icon }}
                                    {{ block.settings.guide2_label }}
                                </button>
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-2-popover" ap-expanded-aria="false">
                                    {{ block.settings.guide2_icon }}
                                    {{ block.settings.guide2_label }}
                                </button>
                              {% endif %}
  
                              {% if block.settings.guide3_icon or block.settings.guide3_label %}
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-3-drawer" ap-expanded-aria="false">
                                    {{ block.settings.guide3_icon }}
                                    {{ block.settings.guide3_label }}
                                </button>
                                <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-3-popover" ap-expanded-aria="false">
                                    {{ block.settings.guide3_icon }}
                                    {{ block.settings.guide3_label }}
                                </button>
                              {% endif %}
                            </div>
                          {% endif %}
                    </div>
                {% when 'tab_custom' %}
                    <div class="product__info--heading">
                        {{ block.settings.tab_name }}
                    </div>
                    <div class="product__info--content">
                        {{ block.settings.tab_custom_content }}
                    </div>
                {%  when 'tab_review' %}
                    <div class="product__info--heading">
                        {{ block.settings.tab_name }}
                    </div>
                    <div class="product__info--content">
                        <div id="shopify-product-reviews" class="spr-reviews" data-id="{{ product.id }}">

                        </div>
                    </div>
                {% when '@app' %}
                    
                        <div class="product__info--heading">
                            Reviews
                        </div>
                        <div class="product__info--content">
                            <div id="shopify-product-reviews" class="spr-reviews" data-id="{{ product.id }}">
                                {% render block %}
                            </div>
                        </div>
                    
            {% endcase %}
            </div>
            {% if block.settings.enable_guide %}
                <div class="product-tabs__trust-list container hd-lap-and-up">
                  {% if block.settings.guide1_icon or block.settings.guide1_label %}
                      <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-1-drawer" ap-expanded-aria="false">
                          {{ block.settings.guide1_icon }}
                          {{ block.settings.guide1_label }}
                      </button>
                      <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-1-popover" ap-expanded-aria="false">
                          {{ block.settings.guide1_icon }}
                          {{ block.settings.guide1_label }}
                      </button>
                  {% endif %}
        
                  {% if block.settings.guide2_icon or block.settings.guide2_label %}
                    <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-2-drawer" ap-expanded-aria="false">
                        {{ block.settings.guide2_icon }}
                        {{ block.settings.guide2_label }}
                    </button>
                    <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-2-popover" ap-expanded-aria="false">
                        {{ block.settings.guide2_icon }}
                        {{ block.settings.guide2_label }}
                    </button>
                  {% endif %}
                  
                  {% if block.settings.guide3_icon or block.settings.guide3_label %}
                    <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-phone" ap-controlsaria="product-{{ section.id }}-trust-3-drawer" ap-expanded-aria="false">
                        {{ block.settings.guide3_icon }}
                        {{ block.settings.guide3_label }}
                    </button>
                    <button is="toggle-button" class="product-tabs__trust-title icon-text link text--subdued hd-tablet-and-up" ap-controlsaria="product-{{ section.id }}-trust-3-popover" ap-expanded-aria="false">
                        {{ block.settings.guide3_icon }}
                        {{ block.settings.guide3_label }}
                    </button>
                  {% endif %}
                </div>
        
                {% if block.settings.guide1_icon or block.settings.guide1_label %}
                  <ap-drawercontent id="product-{{ section.id }}-trust-1-drawer" class="drawer drawer--large">
                    <span class="drawer__overlay"></span>
                    <header class="drawer__header">
                      <p class="drawer__title heading h6">
                        {{ block.settings.guide1_icon }}
                        {{ block.settings.guide1_label }}
                      </p>
                      <button type="button" class="drawer__close-button tap-area" data-action="close" title="Close">
                        <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                          <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                        </svg>
                      </button>
                    </header>
                    <div class="drawer__content drawer__content--padded-start">
                      <div class="rte">
                        {{ block.settings.guide1_returns_content }}
                      </div>
                    </div>
                  </ap-drawercontent>
                  <apollopop-content id="product-{{ section.id }}-trust-1-popover" class="popover">
                    <span class="popover__overlay"></span>
                    <header class="popover__header">
                      <p class="popover__title heading h6">
                        {{ block.settings.guide1_icon }}
                        {{ block.settings.guide1_label }}
                      </p>
                      <button type="button" class="popover__close-button tap-area tap-area--large" data-action="close" title="Close">
                        <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                          <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                        </svg>
                      </button>
                    </header>
                    <div class="popover__content">
                      <div class="rte">
                        {{ block.settings.guide1_returns_content }}
                      </div>
                    </div>
                  </apollopop-content>
                {% endif %}
                
                {% if block.settings.guide2_icon or block.settings.guide2_label %}
                  <ap-drawercontent id="product-{{ section.id }}-trust-2-drawer" class="drawer drawer--large">
                      <span class="drawer__overlay"></span>
                      <header class="drawer__header">
                        <p class="drawer__title heading h6">
                          {{ block.settings.guide2_icon }}
                          {{ block.settings.guide2_label }}
                        </p>
                        <button type="button" class="drawer__close-button tap-area" data-action="close" title="Close">
                          <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                            <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                          </svg>
                        </button>
                      </header>
                      <div class="drawer__content drawer__content--padded-start">
                        <div class="rte">
                          {{ block.settings.guide2_returns_content }}
                        </div>
                      </div>
                    </ap-drawercontent>
                    <apollopop-content id="product-{{ section.id }}-trust-2-popover" class="popover">
                      <span class="popover__overlay"></span>
                      <header class="popover__header">
                        <p class="popover__title heading h6">
                          {{ block.settings.guide2_icon }}
                          {{ block.settings.guide2_label }}
                        </p>
                        <button type="button" class="popover__close-button tap-area tap-area--large" data-action="close" title="Close">
                          <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                            <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                          </svg>
                        </button>
                      </header>
                      <div class="popover__content">
                        <div class="rte">
                          {{ block.settings.guide2_returns_content }}
                        </div>
                      </div>
                    </apollopop-content>
                {% endif %}
        
                {% if block.settings.guide3_icon or block.settings.guide3_label %}
                  <ap-drawercontent id="product-{{ section.id }}-trust-3-drawer" class="drawer drawer--large">
                      <span class="drawer__overlay"></span>
                      <header class="drawer__header">
                        <p class="drawer__title heading h6">
                          {{ block.settings.guide3_icon }}
                          {{ block.settings.guide3_label }}
                        </p>
                        <button type="button" class="drawer__close-button tap-area" data-action="close" title="Close">
                          <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                            <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                          </svg>
                        </button>
                      </header>
                      <div class="drawer__content drawer__content--padded-start">
                        <div class="rte">
                          {{ block.settings.guide3_returns_content }}
                        </div>
                      </div>
                    </ap-drawercontent>
                    <apollopop-content id="product-{{ section.id }}-trust-3-popover" class="popover">
                      <span class="popover__overlay"></span>
                      <header class="popover__header">
                        <p class="popover__title heading h6">
                          {{ block.settings.guide3_icon }}
                          {{ block.settings.guide3_label }}
                        </p>
                        <button type="button" class="popover__close-button tap-area tap-area--large" data-action="close" title="Close">
                          <svg focusable="false" width="14" height="14" class="icon icon--close   " viewBox="0 0 14 14">
                            <path d="M13 13L1 1M13 1L1 13" stroke="currentColor" stroke-width="2" fill="none"></path>
                          </svg>
                        </button>
                      </header>
                      <div class="popover__content">
                        <div class="rte">
                          {{ block.settings.guide3_returns_content }}
                        </div>
                      </div>
                    </apollopop-content>
                {% endif %}
              {% endif %}
              
        {% endfor %}
    
    
  </div>

  {% unless section.settings.full_width %}
    </div>
  {% endunless %}

</div>

{% schema %}
  {
    "name": "More Info Default",
    "tag": "section",
    "class": "shopify-section--product-info",
    "settings": [
      {
        "type": "header",
        "content": "Section settings"
      }, {
        "type": "checkbox",
        "id": "full_width",
        "label": "Full width",
        "default": false
      }, {
        "type": "select",
        "id": "container_type",
        "label": "Container type",
        "options": [
          {
            "value": "container",
            "label": "Container"
          }, {
            "value": "container-fluid",
            "label": "Container fluid"
          }
        ], "default": "container"
      },
      {
        "type": "checkbox",
        "id": "accordion",
        "label": "Accordion",
        "default": false
      }, {
        "type": "checkbox",
        "id": "position_right_column",
        "label": "Position right column",
        "default": false
      }
    ],
    "blocks": [
      {
        "type": "product_description",
        "name": "t:sections.product-content.blocks.product_description.name",
        "settings": [
          {
            "type": "text",
            "id": "tab_name",
            "default": "Description",
            "label": "t:sections.product-content.blocks.product_description.settings.tab_name.label"
          },
          {
            "type": "checkbox",
            "id": "enable_guide",
            "default": true,
            "label": "t:sections.product-content.settings.enable_guide.label"
          },
          {
            "type": "header",
            "content": "Guide 1"
          },
          {
            "type": "text",
            "id": "guide1_label",
            "default": "Shipping & Returns ",
            "label": "t:sections.product-content.settings.guide1_label.label"
          }, {
            "type": "textarea",
            "id": "guide1_icon",
            "label": "t:sections.product-content.settings.guide1_icon.label"
          }, {
            "type": "richtext",
            "id": "guide1_returns_content",
            "label": "t:sections.product-content.settings.guide1_returns_content.label"
          }, {
            "type": "text",
            "id": "guide2_label",
            "default": "Warranty",
            "label": "t:sections.product-content.settings.guide2_label.label"
          }, {
            "type": "textarea",
            "id": "guide2_icon",
            "label": "t:sections.product-content.settings.guide2_icon.label"
          }, {
            "type": "richtext",
            "id": "guide2_returns_content",
            "label": "t:sections.product-content.settings.guide2_returns_content.label"
          }, {
            "type": "text",
            "id": "guide3_label",
            "default": "Secure Payment",
            "label": "t:sections.product-content.settings.guide3_label.label"
          }, {
            "type": "textarea",
            "id": "guide3_icon",
            "label": "t:sections.product-content.settings.guide3_icon.label"
          }, {
            "type": "richtext",
            "id": "guide3_returns_content",
            "label": "t:sections.product-content.settings.guide3_returns_content.label"
          }
        ]
      }, {
        "type": "tab_custom",
        "name": "t:sections.product-content.blocks.tab_custom.name",
        "settings": [
          {
            "type": "text",
            "id": "tab_name",
            "default": "Custom",
            "label": "t:sections.product-content.blocks.tab_custom.settings.tab_name.label"
          }, {
            "type": "richtext",
            "id": "tab_custom_content",
            "label": "t:sections.product-content.blocks.tab_custom.settings.tab_custom_content.label"
          }
        ]
      }, {
        "type": "tab_review",
        "name": "t:sections.product-content.blocks.tab_review.name",
        "settings": [
          {
            "type": "text",
            "id": "tab_name",
            "default": "Review",
            "label": "t:sections.product-content.blocks.tab_review.settings.tab_name.label"
          }
        ]
      }, {
        "type": "@app"
      }

    ], "presets": [
        {
            "name": "More info default"
        } 
    ]
  }
{% endschema %}