{{ 'nagen-contact.css' | asset_url | stylesheet_tag }}

<div class="nagen-contact-section">
  <div class="nc-container">
    
    {%- comment -%} Header {%- endcomment -%}
    <div class="nc-header">
      <h1 class="nc-header__title">{{ section.settings.heading }}</h1>
      <p class="nc-header__desc">{{ section.settings.description }}</p>
    </div>

    {%- comment -%} Top Contact Cards {%- endcomment -%}
    <div class="nc-grid-4">
      {%- for block in section.blocks -%}
        {%- if block.type == 'contact_card' -%}
          <div class="nc-card nc-card--{{ block.settings.color_scheme }}">
            <div class="nc-card__icon-wrapper">
              {{ block.settings.icon_svg }}
            </div>
            <h3 class="nc-card__title">{{ block.settings.title }}</h3>
            {%- if block.settings.link != blank -%}
              <a href="{{ block.settings.link }}" class="nc-card__value">{{ block.settings.value }}</a>
            {%- else -%}
              <span class="nc-card__value">{{ block.settings.value }}</span>
            {%- endif -%}
            
            <p class="nc-card__sub">
              {%- if block.settings.link != blank and block.settings.subtitle contains 'bản đồ' -%}
                <a href="{{ block.settings.link }}" target="_blank">
                  {{ block.settings.subtitle }}
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                </a>
              {%- else -%}
                {{ block.settings.subtitle }}
              {%- endif -%}
            </p>
          </div>
        {%- endif -%}
      {%- endfor -%}
    </div>

    {%- comment -%} Split Section: Channels & Map {%- endcomment -%}
    <div class="nc-split-section">
      
      {%- comment -%} Left: Instant Channels {%- endcomment -%}
      <div class="nc-channels-box">
        <div class="nc-box-header">
          <h2 class="nc-box-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
            {{ section.settings.channels_title }}
          </h2>
          <p class="nc-box-desc">{{ section.settings.channels_desc }}</p>
        </div>

        <div class="nc-channel-list">
          {%- for block in section.blocks -%}
            {%- if block.type == 'channel_item' -%}
              <a href="{{ block.settings.link }}" class="nc-channel-item" target="_blank">
                <div class="nc-channel-icon" style="background-color: {{ block.settings.icon_bg }}">
                  {{ block.settings.icon_svg }}
                </div>
                <div class="nc-channel-content">
                  <span class="nc-channel-name">{{ block.settings.title }}</span>
                  <span class="nc-channel-desc">{{ block.settings.description }}</span>
                  <span class="nc-channel-cta">
                    {{ block.settings.cta_text }} 
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
                  </span>
                </div>
              </a>
            {%- endif -%}
          {%- endfor -%}
        </div>

        <div class="nc-cta-group">
          {%- if section.settings.cta_primary_text != blank -%}
            <button class="nc-btn nc-btn--primary" onclick="document.getElementById('shopify-section-booking_section').scrollIntoView({behavior: 'smooth'})">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
              {{ section.settings.cta_primary_text }}
            </button>
          {%- endif -%}
          {%- if section.settings.cta_secondary_text != blank -%}
            <button class="nc-btn nc-btn--secondary" onclick="document.getElementById('shopify-section-booking_section').scrollIntoView({behavior: 'smooth'})">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
              {{ section.settings.cta_secondary_text }}
            </button>
          {%- endif -%}
        </div>
      </div>

      {%- comment -%} Right: Map {%- endcomment -%}
      <div class="nc-map-box">
        <div class="nc-map-header">
          <h2 class="nc-map-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            {{ section.settings.map_title }}
          </h2>
          <p class="nc-map-address">{{ section.settings.map_address }}</p>
        </div>
        <div class="nc-map-frame">
          {%- if section.settings.map_iframe != blank -%}
            {{ section.settings.map_iframe }}
          {%- else -%}
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3723.863980699999!2d105.76760431533206!3d21.03384229283547!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313454b991d80fd5%3A0x53cefc99d6b0bf6f!2zSGFub2kgTGFuZG1hcmv!5e0!3m2!1sen!2s!4v1625561234567!5m2!1sen!2s" allowfullscreen="" loading="lazy"></iframe>
          {%- endif -%}
        </div>
        <div class="nc-map-actions">
          <a href="{{ section.settings.map_link }}" target="_blank" class="nc-action-btn nc-action-btn--blue">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
            Google Maps
          </a>
          <a href="tel:{{ section.settings.phone_number }}" class="nc-action-btn nc-action-btn--green">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
            Gọi ngay
          </a>
        </div>
      </div>
    </div>

    {%- comment -%} Community Section {%- endcomment -%}
    <div class="nc-community-section">
      <div class="nc-container">
        <div class="nc-header">
          <h2 class="nc-header__title">{{ section.settings.community_title }}</h2>
          <p class="nc-header__desc">{{ section.settings.community_desc }}</p>
        </div>

        {%- comment -%} Social Media Grid {%- endcomment -%}
        <div class="nc-grid-social">
          {%- for block in section.blocks -%}
            {%- if block.type == 'social_link' -%}
              <a href="{{ block.settings.link }}" class="nc-social-card {{ block.settings.platform }}" target="_blank">
                <div class="nc-social-icon">
                  {{ block.settings.icon_svg }}
                </div>
                <span class="nc-social-name">{{ block.settings.title }}</span>
                <span class="nc-social-handle">{{ block.settings.handle }}</span>
                <span class="nc-social-cta">
                  {{ block.settings.cta_text }}
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
                </span>
              </a>
            {%- endif -%}
          {%- endfor -%}
        </div>

        {%- comment -%} Community Groups Grid {%- endcomment -%}
        <div class="nc-header" style="margin-top: 60px;">
          <h3 class="nc-header__title" style="font-size: 24px;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
            {{ section.settings.groups_title }}
          </h3>
        </div>

        <div class="nc-grid-community">
          {%- for block in section.blocks -%}
            {%- if block.type == 'community_group' -%}
              <a href="{{ block.settings.link }}" class="nc-community-card {{ block.settings.color_scheme }}" target="_blank">
                <div class="nc-community-icon">
                  {{ block.settings.icon_svg }}
                </div>
                <h4 class="nc-community-name">{{ block.settings.title }}</h4>
                <span class="nc-community-badge">{{ block.settings.badge_text }}</span>
                <p class="nc-community-desc">{{ block.settings.description }}</p>
                <span class="nc-community-cta">
                  {{ block.settings.cta_text }}
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
                </span>
              </a>
            {%- endif -%}
          {%- endfor -%}
        </div>
      </div>
    </div>

  </div>
</div>

{% schema %}
{
  "name": "NAGEN Contact Page",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Liên hệ với NAGEN"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Chúng tôi cam kết mang đến dịch vụ tư vấn chuyên nghiệp và hỗ trợ khách hàng tận tình nhất"
    },
    {
      "type": "header",
      "content": "Channels Box"
    },
    {
      "type": "text",
      "id": "channels_title",
      "label": "Channels Title",
      "default": "Kênh liên hệ nhanh"
    },
    {
      "type": "textarea",
      "id": "channels_desc",
      "label": "Channels Description",
      "default": "Chọn kênh phù hợp để được hỗ trợ ngay lập tức"
    },
    {
      "type": "text",
      "id": "cta_primary_text",
      "label": "Primary CTA Text",
      "default": "Tư vấn miễn phí"
    },
    {
      "type": "text",
      "id": "cta_secondary_text",
      "label": "Secondary CTA Text",
      "default": "Đặt lịch đo chân"
    },
    {
      "type": "header",
      "content": "Map Box"
    },
    {
      "type": "text",
      "id": "map_title",
      "label": "Map Title",
      "default": "Vị trí trụ sở"
    },
    {
      "type": "textarea",
      "id": "map_address",
      "label": "Address",
      "default": "Tầng 7, Tòa VP-1, Sunsquare Complex\nSố 21 Lê Đức Thọ, Mỹ Đình 2, Nam Từ Liêm, Hà Nội"
    },
    {
      "type": "html",
      "id": "map_iframe",
      "label": "Map Embed Iframe"
    },
    {
      "type": "url",
      "id": "map_link",
      "label": "Google Maps Link"
    },
    {
      "type": "text",
      "id": "phone_number",
      "label": "Phone Number for Call Button",
      "default": "0966578008"
    },
    {
      "type": "header",
      "content": "Community Section"
    },
    {
      "type": "text",
      "id": "community_title",
      "label": "Community Title",
      "default": "Kết nối với NAGEN"
    },
    {
      "type": "textarea",
      "id": "community_desc",
      "label": "Community Description",
      "default": "Theo dõi chúng tôi trên các kênh social và tham gia cộng đồng để nhận thông tin mới nhất"
    },
    {
      "type": "text",
      "id": "groups_title",
      "label": "Groups Title",
      "default": "Cộng đồng NAGEN"
    }
  ],
  "blocks": [
    {
      "type": "contact_card",
      "name": "Contact Card",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "value",
          "label": "Value"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "color_scheme",
          "label": "Color Scheme",
          "options": [
            { "value": "blue", "label": "Blue" },
            { "value": "red", "label": "Red" },
            { "value": "green", "label": "Green" },
            { "value": "purple", "label": "Purple" }
          ],
          "default": "blue"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG"
        }
      ]
    },
    {
      "type": "channel_item",
      "name": "Channel Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "color",
          "id": "icon_bg",
          "label": "Icon Background",
          "default": "#21395d"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG"
        }
      ]
    },
    {
      "type": "social_link",
      "name": "Social Link",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Platform Name"
        },
        {
          "type": "text",
          "id": "handle",
          "label": "Handle"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "platform",
          "label": "Platform Style",
          "options": [
            { "value": "facebook", "label": "Facebook" },
            { "value": "instagram", "label": "Instagram" },
            { "value": "youtube", "label": "YouTube" },
            { "value": "tiktok", "label": "TikTok" }
          ],
          "default": "facebook"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG"
        }
      ]
    },
    {
      "type": "community_group",
      "name": "Community Group",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Group Name"
        },
        {
          "type": "text",
          "id": "badge_text",
          "label": "Badge Text"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "color_scheme",
          "label": "Color Scheme",
          "options": [
            { "value": "blue", "label": "Blue" },
            { "value": "green", "label": "Green" },
            { "value": "yellow", "label": "Yellow" }
          ],
          "default": "blue"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "NAGEN Contact Page"
    }
  ]
}
{% endschema %}
