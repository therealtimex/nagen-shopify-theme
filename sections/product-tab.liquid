{{ 'product-tab.css' | asset_url | stylesheet_tag }}
{% render 'section-style' %}
{%- assign id = '#shopify-section-' | append: section.id -%}


{% style %}

  :root  {
    --title-color: {{ section.settings.tab_title_color |  default: "#000" }};
    --title-active-color: {{ section.settings.tab_title_active_color |  default: "#000" }};
  }

{% endstyle %}

<section class="section product-tab">
  {% unless section.settings.setwidthout == 'full' %}
    <div class="{{ section.settings.setwidthout }}">
  {% endunless %}

  {% render 'section-header' %}

  <div class="row">
    <div class="col-xl-{{ section.settings.tabs_title_xl_column }} col-lg-{{ section.settings.tabs_title_lg_column }} col-md-{{ section.settings.tabs_title_md_column }} col-sm-{{ section.settings.tabs_title_sm_column }} col-12">
      <div style="--space: {{ section.settings.nav_tabs_space }}" class="tabs_title">
        <ap-navtabs class="ap-navtabs ap-navtabs--center ap-navtabs--edge2edge">
          <ap-scrollablecontent class="ap-navtabs__scroller">
            <div class="ap-navtabs__scroller-inner">
              <div style="--gap: {{ section.settings.nav_tabs_gap }}" class="ap-navtabs__item-list d-flex flex-wrap flex-md-{{ section.settings.nav_tabs_direction }} justify-content-md-{{ section.settings.nav_tabs_justify }} align-items-md-{{ section.settings.nav_tabs_align }} justify-content-center align-items-center">
                {% for block in section.blocks %}
                  <button
                    type="button"
                    class="ap-navtabs__item {{ section.settings.heading_size }}"
                    ap-expanded-aria="{% if forloop.index == 1 %}true{% else %}false{% endif %}"
                    ap-controlsaria="block-{{ block.id }}"
                    {% if section.settings.data_aos_text !="none" %}
                    data-aos="{{ section.settings.title_data_aos }}"
                    {% endif %}>{{ block.settings.tab_name }}</button>
                {% endfor %}
              </div>
            {% comment %} <span class="ap-navtabs__position is-initialized"></span> {% endcomment %}
            </div>
          </ap-scrollablecontent>
        </ap-navtabs>
      </div>
    </div>
    <div class="col-xl-{{ section.settings.tabs_content_xl_column }} col-lg-{{ section.settings.tabs_content_lg_column }} col-md-{{ section.settings.tabs_content_md_column }} col-sm-{{ section.settings.tabs_content_sm_column }} col-12">
      <div class="tabs_content">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'product_list' %}
              <div
                stagger-apparition=""
                id="block-{{ block.id }}"
                class="ap-productlist ap-productlist--center {% if forloop.index == 1 %}ap-object-loaded{% endif %}"
                {% if forloop.index == 1 %}
                style="opacity: 1;"
                {% endif %}
                {% if forloop.index != 1 %}
                hidden=""
                {% endif %}>
                <div
                  id="swiper-{{ block.id }}"
                  class="ap-swiper swiper"
                  data-desktop-item="{{ section.settings.desktop_item }}"
                  data-tablet-item="{{ section.settings.tablet_item }}"
                  data-tabletsmall-item="{{ section.settings.tablet_small_item }}"
                  data-mobile-item="{{ section.settings.mobile_item }}"
                  data-loop="{{ section.settings.loop }}"
                  data-rows="{{ section.settings.rows }}"
                  data-direction="{{ section.settings.direction }}"
                  data-navigation="{{ section.settings.navigation }}"
                  data-pagination="{{ section.settings.pagination }}"
                  data-space="{{ section.settings.space }}"
                  data-space-desktop="{{ section.settings.space_desktop }}"
                  data-time="{{ section.settings.time }}">
                  <div class="swiper-wrapper">
                    {% liquid
                      if block.settings.collection != blank
                        assign limit = block.settings.limit
                        for product in block.settings.collection.products limit: limit
                          echo '<div class="swiper-slide">'
                          render 'product-grid', product: product, data_aos: section.settings.product_data_aos
                          echo '</div>'
                        endfor
                      else
                        for i in (1..6)
                          echo '<div class="swiper-slide">'
                          capture current
                            cycle 1, 2, 3, 4, 5, 6
                          endcapture
                          assign img = 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg'
                          echo img
                          echo '</div>'
                        endfor
                      endif
                    %}


                  </div>

                  {% if section.settings.navigation %}
                    <div class="swiper-arrow">
                      <div class="swiper-button-prev swiper-button-prev_{{ block.id }}">
                        <svg
                          width="20"
                          height="21"
                          viewBox="0 0 24 25"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path d="M20 11.7998H7.83L13.42 6.2098L12 4.7998L4 12.7998L12 20.7998L13.41 19.3898L7.83 13.7998H20V11.7998Z" fill="currentColor" />
                        </svg>
                      </div>
                      <div class="swiper-button-next swiper-button-next_{{ block.id }}">
                        <svg
                          width="20"
                          height="21"
                          viewBox="0 0 24 25"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 4.7998L10.59 6.2098L16.17 11.7998H4V13.7998H16.17L10.59 19.3898L12 20.7998L20 12.7998L12 4.7998Z" fill="currentColor" />
                        </svg>
                      </div>

                    </div>
                  {% endif %}

                  {% if section.settings.pagination %}
                    <div class="swiper-pagination swiper-pagination_{{ section.id }}"></div>
                  {% endif %}
                </div>
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>

  {% unless section.settings.setwidthout == 'full' %}
    </div>
  {% endunless %}
</section>


{% schema %}
  {
    "name": "Product Tabs",
    "class": "shopify-section--featured-collections pro-tab-section",
    "tag": "section",
    "max_blocks": 6,
    "settings": [
      {
        "type": "select",
        "id": "setwidthout",
        "label": "Set Width",
        "default": "full",
        "options": [
          {
            "value": "container",
            "label": "Container"
          }, {
            "value": "container-fluid",
            "label": "Container Fluid"
          }, {
            "value": "full",
            "label": "Full"
          }
        ]
      },
      {
        "type": "color",
        "id": "background_color",
        "default": "#ffffff",
        "label": "t:sections.all.section_background.label"
      },
      {
        "type": "image_picker",
        "id": "background_image",
        "label": "t:sections.all.background_image.label"
      },
      {
        "type": "header",
        "content": "Settings heading"
      }, {
        "type": "liquid",
        "id": "sub_title",
        "label": "Sub title",
        "default": "Sub title"
      }, {
        "type": "color",
        "id": "sub_title_color",
        "label": "Sub title color",
        "default": "#000"
      }, {
        "type": "liquid",
        "id": "title",
        "label": "Title",
        "default": "Title"
      }, {
        "type": "select",
        "id": "title_tag",
        "label": "Title tag",
        "default": "h1",
        "options": [
          {
            "value": "h1",
            "label": "h1"
          },
          {
            "value": "h2",
            "label": "h2"
          },
          {
            "value": "h3",
            "label": "h3"
          },
          {
            "value": "h4",
            "label": "h4"
          }, {
            "value": "h5",
            "label": "h5"
          }, {
            "value": "h6",
            "label": "h6"
          }, {
            "value": "p",
            "label": "p"
          }
        ]
      }, {
        "type": "color",
        "id": "title_color",
        "label": "Title color",
        "default": "#000"
      }, {
        "type": "liquid",
        "id": "description",
        "label": "Description",
        "default": "Description"
      }, {
        "type": "color",
        "id": "description_color",
        "label": "Description color",
        "default": "#000"
      }, {
        "type": "select",
        "id": "text_align",
        "label": "Text align",
        "default": "start",
        "options": [
          {
            "value": "start",
            "label": "Left"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "end",
            "label": "Right"
          }
        ]
      }, {
        "type": "select",
        "id": "data_aos_text",
        "label": "Data Aos header text",
        "default": "none",
        "options": [
          {
            "value": "none",
            "label": "none"
          },
          {
            "value": "fade-up",
            "label": "fade-up"
          },
          {
            "value": "fade-down",
            "label": "fade-down"
          },
          {
            "value": "fade-right",
            "label": "fade-right"
          }, {
            "value": "fade-left",
            "label": "fade-left"
          }, {
            "value": "flip-left",
            "label": "flip-left"
          }, {
            "value": "flip-right",
            "label": "flip-right"
          }, {
            "value": "flip-up",
            "label": "flip-up"
          }, {
            "value": "flip-down",
            "label": "flip-down"
          }, {
            "value": "zoom-in",
            "label": "zoom-in"
          }, {
            "value": "zoom-in-up",
            "label": "zoom-in-up"
          }, {
            "value": "zoom-in-down",
            "label": "zoom-in-down"
          }, {
            "value": "zoom-in-left",
            "label": "zoom-in-left"
          }, {
            "value": "zoom-in-right",
            "label": "zoom-in-right"
          }, {
            "value": "zoom-out",
            "label": "zoom-out"
          }, {
            "value": "zoom-out-up",
            "label": "zoom-out-up"
          }, {
            "value": "zoom-out-down",
            "label": "zoom-out-down"
          }, {
            "value": "zoom-out-left",
            "label": "zoom-out-left"
          }, {
            "value": "zoom-out-right",
            "label": "zoom-out-right"
          }
        ]
      }, {
        "type": "header",
        "content": "Tabs title settings"
      }, {
        "type": "range",
        "id": "tabs_title_xl_column",
        "label": "Extra large screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_title_lg_column",
        "label": "Large screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_title_md_column",
        "label": "Medium screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_title_sm_column",
        "label": "Small screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "select",
        "id": "nav_tabs_direction",
        "label": "tabs direction",
        "options": [
          {
            "value": "row",
            "label": "Row"
          }, {
            "value": "column",
            "label": "Column"
          }
        ],
        "default": "row"
      }, {
        "type": "select",
        "id": "nav_tabs_justify",
        "label": "Justify content",
        "default": "start",
        "options": [
          {
            "value": "start",
            "label": "Start"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "end",
            "label": "End"
          }
        ]
      }, {
        "type": "select",
        "id": "nav_tabs_align",
        "label": "Align items",
        "default": "start",
        "options": [
          {
            "value": "start",
            "label": "Start"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "end",
            "label": "End"
          }
        ]
      }, {
        "type": "text",
        "id": "nav_tabs_gap",
        "label": "Gap"
      }, {
        "type": "text",
        "id": "nav_tabs_space",
        "label": "Space"
      }, {
        "type": "color",
        "id": "tab_title_color",
        "label": "Tab title color"
      }, {
        "type": "color",
        "id": "tab_title_active_color",
        "label": "Tab title active color"
      }, {
        "type": "select",
        "id": "title_data_aos",
        "label": "Title Aos product",
        "default": "none",
        "options": [
          {
            "value": "none",
            "label": "none"
          },
          {
            "value": "fade-up",
            "label": "fade-up"
          },
          {
            "value": "fade-down",
            "label": "fade-down"
          },
          {
            "value": "fade-right",
            "label": "fade-right"
          }, {
            "value": "fade-left",
            "label": "fade-left"
          }, {
            "value": "flip-left",
            "label": "flip-left"
          }, {
            "value": "flip-right",
            "label": "flip-right"
          }, {
            "value": "flip-up",
            "label": "flip-up"
          }, {
            "value": "flip-down",
            "label": "flip-down"
          }, {
            "value": "zoom-in",
            "label": "zoom-in"
          }, {
            "value": "zoom-in-up",
            "label": "zoom-in-up"
          }, {
            "value": "zoom-in-down",
            "label": "zoom-in-down"
          }, {
            "value": "zoom-in-left",
            "label": "zoom-in-left"
          }, {
            "value": "zoom-in-right",
            "label": "zoom-in-right"
          }, {
            "value": "zoom-out",
            "label": "zoom-out"
          }, {
            "value": "zoom-out-up",
            "label": "zoom-out-up"
          }, {
            "value": "zoom-out-down",
            "label": "zoom-out-down"
          }, {
            "value": "zoom-out-left",
            "label": "zoom-out-left"
          }, {
            "value": "zoom-out-right",
            "label": "zoom-out-right"
          }
        ]
      }, {
        "type": "header",
        "content": "Tabs content settings"
      }, {
        "type": "range",
        "id": "tabs_content_xl_column",
        "label": "Extra large screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_content_lg_column",
        "label": "Large screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_content_md_column",
        "label": "Medium screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "tabs_content_sm_column",
        "label": "Small screen",
        "default": 6,
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "/12"
      }, {
        "type": "range",
        "id": "desktop_item",
        "min": 1,
        "max": 10,
        "step": 1,
        "default": 4,
        "label": "Desktop item"
      }, {
        "type": "range",
        "id": "tablet_item",
        "min": 1,
        "max": 10,
        "step": 1,
        "default": 3,
        "label": "Tablet item"
      }, {
        "type": "range",
        "id": "tablet_small_item",
        "min": 1,
        "max": 10,
        "step": 1,
        "default": 2,
        "label": "Tablet small item"
      }, {
        "type": "range",
        "id": "mobile_item",
        "min": 1,
        "max": 10,
        "step": 1,
        "default": 1,
        "label": "Mobile item"
      }, {
        "type": "checkbox",
        "id": "loop",
        "label": "Loop",
        "default": false
      }, {
        "type": "checkbox",
        "id": "navigation",
        "label": "Navigation",
        "default": true
      }, {
        "type": "checkbox",
        "id": "pagination",
        "label": "Pagination",
        "default": true
      }, {
        "type": "select",
        "id": "direction",
        "label": "Direction",
        "default": "horizontal",
        "options": [
          {
            "value": "horizontal",
            "label": "Horizontal"
          }, {
            "value": "vertical",
            "label": "Vertical"
          }
        ]
      }, {
        "type": "range",
        "id": "rows",
        "min": 1,
        "max": 10,
        "step": 1,
        "default": 1,
        "label": "Rows"
      }, {
        "type": "text",
        "id": "space",
        "label": "Space",
        "default": "30"
      }, {
        "type": "text",
        "id": "space_desktop",
        "label": "Space desktop",
        "default": "30"
      }, {
        "type": "text",
        "id": "time",
        "label": "Time",
        "default": "0"
      }, {
        "type": "select",
        "id": "product_data_aos",
        "label": "Data Aos product",
        "default": "none",
        "options": [
          {
            "value": "none",
            "label": "none"
          },
          {
            "value": "fade-up",
            "label": "fade-up"
          },
          {
            "value": "fade-down",
            "label": "fade-down"
          },
          {
            "value": "fade-right",
            "label": "fade-right"
          }, {
            "value": "fade-left",
            "label": "fade-left"
          }, {
            "value": "flip-left",
            "label": "flip-left"
          }, {
            "value": "flip-right",
            "label": "flip-right"
          }, {
            "value": "flip-up",
            "label": "flip-up"
          }, {
            "value": "flip-down",
            "label": "flip-down"
          }, {
            "value": "zoom-in",
            "label": "zoom-in"
          }, {
            "value": "zoom-in-up",
            "label": "zoom-in-up"
          }, {
            "value": "zoom-in-down",
            "label": "zoom-in-down"
          }, {
            "value": "zoom-in-left",
            "label": "zoom-in-left"
          }, {
            "value": "zoom-in-right",
            "label": "zoom-in-right"
          }, {
            "value": "zoom-out",
            "label": "zoom-out"
          }, {
            "value": "zoom-out-up",
            "label": "zoom-out-up"
          }, {
            "value": "zoom-out-down",
            "label": "zoom-out-down"
          }, {
            "value": "zoom-out-left",
            "label": "zoom-out-left"
          }, {
            "value": "zoom-out-right",
            "label": "zoom-out-right"
          }
        ]
      }, {
        "type": "header",
        "content": "Margin & Padding"
      }, {
        "type": "text",
        "id": "margin_desktop",
        "label": "t:sections.all.margin_desktop.label",
        "info": "t:sections.all.margin_desktop.info"
      }, {
        "type": "text",
        "id": "margin_tablet",
        "label": "t:sections.all.margin_tablet.label",
        "info": "t:sections.all.margin_tablet.info"
      }, {
        "type": "text",
        "id": "margin_mobile",
        "label": "t:sections.all.margin_mobile.label",
        "info": "t:sections.all.margin_mobile.info"
      }, {
        "type": "text",
        "id": "padding_desktop",
        "label": "t:sections.all.padding_desktop.label",
        "info": "t:sections.all.padding_desktop.info"
      }, {
        "type": "text",
        "id": "padding_tablet",
        "label": "t:sections.all.padding_tablet.label",
        "info": "t:sections.all.padding_tablet.info"
      }, {
        "type": "text",
        "id": "padding_mobile",
        "label": "t:sections.all.padding_mobile.label",
        "info": "t:sections.all.padding_mobile.info"
      }
    ],
    "blocks": [
      {
        "type": "product_list",
        "name": "Product list",
        "settings": [
          {
            "type": "text",
            "id": "tab_name",
            "default": "Tab name",
            "label": "Tab Name"
          }, {
            "id": "collection",
            "type": "collection",
            "label": "t:sections.all.collection.label"
          }, {
            "type": "range",
            "id": "limit",
            "min": 1,
            "max": 20,
            "step": 1,
            "default": 20,
            "label": "t:sections.all.limit.label"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Product Tabs",
        "blocks": [
          {
            "type": "product_list"
          }, {
            "type": "product_list"
          }, {
            "type": "product_list"
          }
        ]
      }
    ]
  }
{% endschema %}